<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Router Test - Technorox</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #1a1a1a; color: white; }
        .test { margin: 10px 0; padding: 10px; border: 1px solid #333; }
        .success { border-color: green; background: #001100; }
        .error { border-color: red; background: #110000; }
    </style>
</head>
<body>
    <h1>üß™ Router Test</h1>
    <div id="results"></div>
    
    <script type="module">
        const results = document.getElementById('results');
        
        function addResult(test, success, message) {
            const div = document.createElement('div');
            div.className = `test ${success ? 'success' : 'error'}`;
            div.innerHTML = `<strong>${test}:</strong> ${success ? '‚úÖ' : '‚ùå'} ${message}`;
            results.appendChild(div);
        }
        
        try {
            // Test 1: Import Router
            const { Router } = await import('./src/utils/router.js');
            addResult('Router Import', true, 'Router class imported successfully');
            
            // Test 2: Create Router instance
            const router = new Router();
            addResult('Router Creation', true, 'Router instance created');
            
            // Test 3: Check setAuthManager method
            const hasMethod = typeof router.setAuthManager === 'function';
            addResult('setAuthManager Method', hasMethod, hasMethod ? 'Method exists' : 'Method missing');
            
            // Test 4: List all methods
            const methods = Object.getOwnPropertyNames(Object.getPrototypeOf(router));
            addResult('Router Methods', true, `Available methods: ${methods.join(', ')}`);
            
            // Test 5: Try calling setAuthManager
            try {
                router.setAuthManager({ test: true });
                addResult('setAuthManager Call', true, 'Method called successfully');
            } catch (error) {
                addResult('setAuthManager Call', false, `Error: ${error.message}`);
            }
            
        } catch (error) {
            addResult('Router Test', false, `Import failed: ${error.message}`);
        }
    </script>
</body>
</html>
